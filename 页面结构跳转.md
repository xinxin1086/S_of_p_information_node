# 社区交流平台页面层级

## 路由标注规范说明

**标注方式**：

1. **不同页面组成**：分别标注出独立路由页面
   ```
   └── 管理员管理
       ├── 管理员列表 (/admin/user/admin)
       ├── 添加管理员 (/admin/user/admin/add)
       └── 编辑管理员 (/admin/user/admin/edit/:id)
   ```

2. **相同页面+弹窗功能**：标注路由路径+功能按钮说明
   ```
   └── 公告管理 (/admin/content/notice)
       ├── 发布公告（发布公告按钮）
       ├── 编辑公告（编辑公告按钮）
       └── 公告列表（页面显示）
   ```

3. **相同页面+筛选功能**：标注筛选选项说明
   ```
   └── 我的活动 (/user/weave/my-activities)
       └── （待开始/进行中/已结束）（筛选选项）
   ```

4. **页面内部功能模块**：标注同一页面内的基本功能
   ```
   └── 个人资料管理 (/user/profile)
       └── （基本信息、头像上传、联系方式）（基本功能）
   ```

5. **页面内部信息显示**：标注页面内部信息显示说明
   ```
 ── 组织用户控制台 (/user/weave/dashboard)
    └── （数据概览、活动统计、用户参与情况）（信息显示）
   ```

6. **页面内部复合功能模块**：标注同一页面内复合功能说明
   ```
   └── 账户设置 (/user/settings)
       ├── （修改密码、隐私设置）（基本功能）
       └── （注销按钮）（注销功能按钮）
   ```




## 项目技术栈
- **前端框架**: Vue 3 + Composition API
- **UI组件库**: Element Plus
- **路由管理**: Vue Router (hash模式)
- **状态管理**: Pinia
- **构建工具**: Vite
- **开发语言**: TypeScript
- **路由模式**: Hash路由
- **用户角色**: 管理员、组织用户、普通用户、访客

## 1. 公共页面组件结构

### 公共布局 (GuestLayout.vue)
**布局结构**:
- **头部导航栏**: Logo + 主导航菜单 + 搜索框 + 登录/注册按钮
- **主内容区**: 展示公共页面内容
- **页脚**: 关于我们、快速链接、联系方式、社交媒体

### 公共页面路由（使用 GuestLayout 嵌套）
```
公共页面（无需登录）- 统一使用 GuestLayout：
├── 首页 (/) - 公共首页（完整布局）
├── 公告中心 (/notice)
│   ├── 公告列表 (/notice)
│   └── 公告详情 (/notice/:id)
├── 科普知识 (/science)
│   ├── 科普列表 (/science)
│   └── 科普详情 (/science/:id)
├── 活动信息 (/activities)
│   ├── 活动列表 (/activities)
│   └── 活动详情 (/activities/:id)
├── 关于平台 (/about)
└── 搜索页面 (/search)

**路由配置结构**：
{
  path: '/',
  component: GuestLayout,
  children: [
    { path: '', component: PublicHomeView },      // 首页
    { path: 'notice', component: NoticeList },    // 公告列表
    { path: 'notice/:id', component: NoticeDetail }, // 公告详情
    { path: 'science', component: ScienceList },  // 科普列表
    { path: 'science/:id', component: ScienceDetail }, // 科普详情
    { path: 'activities', component: ActivityList }, // 活动列表
    { path: 'activities/:id', component: ActivityDetail }, // 活动详情
    { path: 'about', component: AboutView },      // 关于页面
    { path: 'search', component: SearchView }     // 搜索页面
  ]
}

**独立页面路由**（不使用布局）：
- { path: '/login', component: LoginView }        // 登录页面
- { path: '/register', component: RegisterView }  // 注册页面
```

**文件位置**:
- 布局: `/src/layouts/GuestLayout.vue`
- 页面: `/src/views/public/`

---

## 2. 用户页面层级结构

### 用户布局 (UserLayout.vue)
**布局结构**:
- **顶部导航栏**: Logo + 菜单切换 + 搜索框 + 通知铃铛 + 用户头像菜单
- **侧边栏**: 用户功能菜单（可折叠）
- **主内容区**: 面包屑导航 + 页面内容
- **移动端适配**: 遮罩层和响应式布局

### 普通用户功能路由
```
普通用户页面 (/user) - 使用 UserLayout：
├── 用户中心
│   ├── 用户首页 (/user/dashboard)
│   │   └── （基本信息、联系方式）（基本功能）
│   ├── 个人资料管理 (/user/profile)
│   │   └── （头像上传、基本信息修改）（基本功能）
│   └── 账户设置 (/user/settings)
│       ├── （修改密码、隐私设置）（基本功能）
│       └── （注销按钮）（注销功能按钮）

└── 活动功能
    ├── 活动首页 (/user/activities)
    └── 活动详情 (/user/activities/:id)

**注意**：用户登录后访问公告、科普、活动等公共内容时，
将重定向到对应的用户布局页面，提供更丰富的功能和体验。
```

### 组织用户专属功能路由
```
组织用户功能 (/user/weave) - 需要特殊权限:
├── 组织用户控制台 (/user/weave/dashboard)
│   └── （数据概览、活动统计、用户参与情况）（信息显示）

├── 活动管理
     ├── 创建活动 (/user/weave/create-activity)
     ├── 编辑活动 (/user/weave/edit-activity/:id)
     └── 我的活动 (/user/weave/my-activities)
       └── （待开始/进行中/已结束）（筛选选项）

```

**文件位置**:
- 布局: `/src/layouts/UserLayout.vue`
- 页面: `/src/views/user/`

---

## 3. 管理员后台页面结构

### 管理员布局 (AdminLayout.vue)
**布局结构**:
- **顶部管理员栏位**: 管理员信息 + 快捷操作 + 系统状态
- **侧边栏菜单**: 分模块的管理功能菜单
- **主内容区**: 具体管理功能页面

### 管理员后台模块路由
```
管理员后台 (/admin):
├── 管理员控制台 (/admin/dashboard)
│   └── （系统概览、数据统计、公告信息）（信息显示）

├── 内容管理模块
│   ├── 内容审核
│   │   ├── 公告审核 (/admin/content/notice-review)
│   │   ├── 科普审核 (/admin/content/science-review)
│   │   └── 活动审核 (/admin/content/activity-review)
│   └── 内容发布
│       ├── 公告管理 (/admin/content/notice)
│       │   ├── 发布公告（发布公告按钮）
│       │   ├── 编辑公告（编辑公告按钮）
│       │   └── 公告列表（页面显示）
│       └── 科普管理 (/admin/content/science)
│           ├── 发布科普（发布科普按钮）
│           ├── 编辑科普（编辑科普按钮）
│           └── 科普列表（页面显示）

└── 用户管理模块
    ├── 管理员管理
    │   ├── 管理员列表 (/admin/user/admin)
    │   ├── 添加管理员 (/admin/user/admin/add)
    │   └── 编辑管理员 (/admin/user/admin/edit/:id)
    └── 普通用户管理
        ├── 用户列表 (/admin/user/user)
        ├── 添加用户 (/admin/user/user/add)
        └── 编辑用户 (/admin/user/user/edit/:id)
```

**文件位置**:
- 布局: `/src/layouts/AdminLayout.vue`
- 页面: `/src/views/admin/`
- 管理员组件: `/src/views/admin/components/`

---

## 4. 路由层次结构总览

### 三层架构设计
```
社区交流平台
├── 访客层 (GuestLayout)
│   ├── 首页 (/) - 完整布局展示
│   ├── 公告中心 (/notice/*)
│   ├── 科普知识 (/science/*)
│   ├── 活动信息 (/activities/*)
│   ├── 关于平台 (/about)
│   └── 搜索功能 (/search)
│
├── 用户层 (UserLayout)
│   ├── 普通用户功能 (/user/*)
│   ├── 组织用户专属功能 (/user/weave/*)
│   └── 活动参与功能 (/user/activities/*)
│
├── 管理员层 (AdminLayout)
│   ├── 管理员控制台 (/admin/dashboard)
│   ├── 内容管理 (/admin/content/*)
│   └── 用户管理 (/admin/user/*)
│
└── 独立功能页面（无布局）
    ├── 登录页面 (/login)
    └── 注册页面 (/register)

### 路由权限控制
- **访客**：只能访问 GuestLayout 包裹的页面和独立登录/注册页面
- **普通用户**：可访问 UserLayout 和 GuestLayout 页面
- **组织用户**：在普通用户基础上，可访问 /user/weave/* 功能
- **管理员**：可访问 AdminLayout 和所有其他页面


